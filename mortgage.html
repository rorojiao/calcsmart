<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æˆ¿è´·è®¡ç®—å™¨åœ¨çº¿ â€” ç­‰é¢æœ¬æ¯/ç­‰é¢æœ¬é‡‘æœˆä¾›è®¡ç®— | CalcSmart</title>
<meta name="description" content="å…è´¹æˆ¿è´·è®¡ç®—å™¨ï¼šæ”¯æŒç­‰é¢æœ¬æ¯ã€ç­‰é¢æœ¬é‡‘ä¸¤ç§æ–¹å¼ï¼Œè®¡ç®—æœˆä¾›ã€æ€»åˆ©æ¯ã€è¿˜æ¬¾æ˜ç»†è¡¨ï¼Œé™„å¯è§†åŒ–å›¾è¡¨ã€‚">
<meta name="keywords" content="æˆ¿è´·è®¡ç®—å™¨,æˆ¿è´·è®¡ç®—å™¨åœ¨çº¿,æœˆä¾›è®¡ç®—å™¨,ç­‰é¢æœ¬æ¯,ç­‰é¢æœ¬é‡‘,è´·æ¬¾è®¡ç®—å™¨">
<link rel="canonical" href="https://rorojiao.github.io/calcsmart/mortgage.html">
<link rel="stylesheet" href="style.css">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"FAQPage","mainEntity":[
{"@type":"Question","name":"ç­‰é¢æœ¬æ¯å’Œç­‰é¢æœ¬é‡‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ç­‰é¢æœ¬æ¯æ¯æœˆè¿˜æ¬¾é¢å›ºå®šï¼Œå‰æœŸåˆ©æ¯å æ¯”é«˜ï¼›ç­‰é¢æœ¬é‡‘æ¯æœˆè¿˜æ¬¾é¢é€’å‡ï¼Œå‰æœŸè¿˜æ¬¾å¤šä½†æ€»åˆ©æ¯å°‘ã€‚"}},
{"@type":"Question","name":"æˆ¿è´·åˆ©ç‡ä¸€èˆ¬æ˜¯å¤šå°‘ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"2026å¹´ä¸­å›½é¦–å¥—æˆ¿è´·åˆ©ç‡çº¦3.0%-3.5%ï¼ŒäºŒå¥—çº¦3.5%-4.0%ï¼Œå…·ä½“ä»¥å„é“¶è¡Œå…¬å‘Šä¸ºå‡†ã€‚"}},
{"@type":"Question","name":"æå‰è¿˜è´·åˆ’ç®—å—ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"å¦‚æœè´·æ¬¾åˆ©ç‡é«˜äºç†è´¢æ”¶ç›Šç‡ï¼Œæå‰è¿˜è´·é€šå¸¸åˆ’ç®—ã€‚ç­‰é¢æœ¬æ¯å‰1/3æœŸé™å†…æå‰è¿˜è´·èŠ‚çœåˆ©æ¯æœ€å¤šã€‚"}}
]}
</script>
</head>
<body>
<header class="header"><div class="header-inner">
<a href="index.html" class="logo">âš¡ <span data-t="siteName">CalcSmart æ™ºç®—</span></a>
<button class="nav-toggle" onclick="document.querySelector('.nav').classList.toggle('open')">â˜°</button>
<nav class="nav">
<a href="index.html" data-t="home">é¦–é¡µ</a>
<a href="mortgage.html" class="active" data-t="mortgage">æˆ¿è´·è®¡ç®—å™¨</a>
<a href="tax.html" data-t="tax">ä¸ªç¨è®¡ç®—å™¨</a>
<a href="bmi.html" data-t="bmi">BMIè®¡ç®—å™¨</a>
<a href="unit.html" data-t="unit">å•ä½æ¢ç®—</a>
<a href="countdown.html" data-t="countdown">å€’è®¡æ—¶</a>
<button class="lang-btn" onclick="toggleLang()">ğŸŒ ä¸­/EN</button>
</nav>
</div></header>

<div class="container">
<h1 data-t="mortgageTitle">æˆ¿è´·è®¡ç®—å™¨ â€” åœ¨çº¿è®¡ç®—æœˆä¾›</h1>
<p class="subtitle" data-t="mortgageSub">æ”¯æŒç­‰é¢æœ¬æ¯å’Œç­‰é¢æœ¬é‡‘ä¸¤ç§è¿˜æ¬¾æ–¹å¼</p>

<div class="card">
  <div class="radio-group">
    <label><input type="radio" name="method" value="equal" checked><span data-t="equalPayment">ç­‰é¢æœ¬æ¯</span></label>
    <label><input type="radio" name="method" value="principal"><span data-t="equalPrincipal">ç­‰é¢æœ¬é‡‘</span></label>
  </div>
  <div class="form-row">
    <div class="form-group"><label data-t="loanAmount">è´·æ¬¾é‡‘é¢ï¼ˆä¸‡å…ƒï¼‰</label><input type="number" id="loan" value="100" min="1"></div>
    <div class="form-group"><label data-t="loanYears">è´·æ¬¾å¹´é™ï¼ˆå¹´ï¼‰</label><input type="number" id="years" value="30" min="1" max="50"></div>
  </div>
  <div class="form-group"><label data-t="annualRate">å¹´åˆ©ç‡ï¼ˆ%ï¼‰</label><input type="number" id="rate" value="3.1" step="0.01" min="0.01"></div>
  <button class="btn" onclick="calcMortgage()" data-t="calculate">è®¡ç®—</button>
</div>

<div id="result" style="display:none">
  <div class="card">
    <div class="result-box"><div class="result-grid" id="summary"></div></div>
  </div>
  <div class="card">
    <h2 data-t="paymentChart">æœˆä¾›èµ°åŠ¿å›¾</h2>
    <div class="bar-chart" id="chart"></div>
  </div>
  <div class="card">
    <h2 data-t="repaySchedule">è¿˜æ¬¾æ˜ç»†è¡¨</h2>
    <div class="table-wrap"><table id="schedule"></table></div>
  </div>
</div>

<section class="faq">
<h2>FAQ</h2>
<details><summary>ç­‰é¢æœ¬æ¯å’Œç­‰é¢æœ¬é‡‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</summary><p>ç­‰é¢æœ¬æ¯æ¯æœˆè¿˜æ¬¾é¢å›ºå®šï¼Œå‰æœŸåˆ©æ¯å æ¯”é«˜ï¼›ç­‰é¢æœ¬é‡‘æ¯æœˆè¿˜æ¬¾é¢é€’å‡ï¼Œå‰æœŸè¿˜æ¬¾å¤šä½†æ€»åˆ©æ¯å°‘ã€‚</p></details>
<details><summary>æˆ¿è´·åˆ©ç‡ä¸€èˆ¬æ˜¯å¤šå°‘ï¼Ÿ</summary><p>2026å¹´ä¸­å›½é¦–å¥—æˆ¿è´·åˆ©ç‡çº¦3.0%-3.5%ï¼Œå…·ä½“ä»¥å„é“¶è¡Œå…¬å‘Šä¸ºå‡†ã€‚</p></details>
<details><summary>æå‰è¿˜è´·åˆ’ç®—å—ï¼Ÿ</summary><p>å¦‚æœè´·æ¬¾åˆ©ç‡é«˜äºç†è´¢æ”¶ç›Šç‡ï¼Œæå‰è¿˜è´·é€šå¸¸åˆ’ç®—ã€‚ç­‰é¢æœ¬æ¯å‰1/3æœŸé™å†…æå‰è¿˜è´·èŠ‚çœåˆ©æ¯æœ€å¤šã€‚</p></details>
</section>
</div>

<div class="donate"><p data-t="donateTip">â˜• è§‰å¾—å¥½ç”¨ï¼Ÿæ‰“èµä¸€æ¯å’–å•¡</p><p><span data-t="donateAddr">ETH/USDT æ‰“èµåœ°å€:</span> <code>0xEeD903787Cb86bcCc17777E5C7d10A4c2De43823</code></p></div>
<footer class="footer" data-t="footer">Â© 2026 CalcSmart æ™ºç®— Â· å…è´¹åœ¨çº¿è®¡ç®—å™¨</footer>

<script src="i18n.js"></script>
<script>
function calcMortgage() {
  const P = parseFloat(document.getElementById('loan').value) * 10000;
  const Y = parseInt(document.getElementById('years').value);
  const N = Y * 12;
  const r = parseFloat(document.getElementById('rate').value) / 100 / 12;
  const method = document.querySelector('input[name="method"]:checked').value;
  
  let rows = [];
  let totalInterest = 0, totalPayment = 0;
  let bal = P;

  if (method === 'equal') {
    const M = P * r * Math.pow(1+r, N) / (Math.pow(1+r, N) - 1);
    for (let i = 1; i <= N; i++) {
      const intPart = bal * r;
      const prinPart = M - intPart;
      bal -= prinPart;
      totalInterest += intPart;
      rows.push({ m: i, payment: M, principal: prinPart, interest: intPart, balance: Math.max(0, bal) });
    }
    totalPayment = M * N;
    document.getElementById('summary').innerHTML = `
      <div><div class="label" data-t="monthlyPayment">${t('monthlyPayment')}</div><div class="big">${fmt(M)}</div></div>
      <div><div class="label" data-t="totalInterest">${t('totalInterest')}</div><div class="big">${fmt(totalInterest)}</div></div>
      <div><div class="label" data-t="totalPayment">${t('totalPayment')}</div><div class="big">${fmt(totalPayment)}</div></div>`;
  } else {
    const prinPerMonth = P / N;
    for (let i = 1; i <= N; i++) {
      const intPart = bal * r;
      const M = prinPerMonth + intPart;
      bal -= prinPerMonth;
      totalInterest += intPart;
      rows.push({ m: i, payment: M, principal: prinPerMonth, interest: intPart, balance: Math.max(0, bal) });
    }
    totalPayment = P + totalInterest;
    document.getElementById('summary').innerHTML = `
      <div><div class="label" data-t="firstMonth">${t('firstMonth')}</div><div class="big">${fmt(rows[0].payment)}</div></div>
      <div><div class="label" data-t="lastMonth">${t('lastMonth')}</div><div class="big">${fmt(rows[N-1].payment)}</div></div>
      <div><div class="label" data-t="totalInterest">${t('totalInterest')}</div><div class="big">${fmt(totalInterest)}</div></div>`;
  }

  // Chart
  const maxPay = Math.max(...rows.map(r => r.payment));
  const step = Math.max(1, Math.floor(N / 120));
  let bars = '';
  for (let i = 0; i < N; i += step) {
    const r = rows[i];
    const h = (r.payment / maxPay * 100).toFixed(1);
    const ih = (r.interest / maxPay * 100).toFixed(1);
    bars += `<div class="bar" style="height:${h}%" title="${t('month')}${r.m}: ${fmt(r.payment)}"></div>`;
  }
  document.getElementById('chart').innerHTML = bars;

  // Table
  let html = `<thead><tr><th data-t="month">${t('month')}</th><th data-t="monthlyPayment">${t('monthlyPayment')}</th><th data-t="principal">${t('principal')}</th><th data-t="interest">${t('interest')}</th><th data-t="balance">${t('balance')}</th></tr></thead><tbody>`;
  const showStep = N > 60 ? 12 : (N > 24 ? 6 : 1);
  for (let i = 0; i < N; i += showStep) {
    const r = rows[i];
    html += `<tr><td>${r.m}</td><td>${fmt(r.payment)}</td><td>${fmt(r.principal)}</td><td>${fmt(r.interest)}</td><td>${fmt(r.balance)}</td></tr>`;
  }
  html += '</tbody>';
  document.getElementById('schedule').innerHTML = html;
  document.getElementById('result').style.display = 'block';
}

document.addEventListener('DOMContentLoaded', calcMortgage);
</script>
</body>
</html>
